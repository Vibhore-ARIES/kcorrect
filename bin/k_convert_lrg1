#!/usr/bin/env python

# Converts old v4 LRG template into v5 format.

import os
import kcorrect.sed
import fitsio
import numpy as np

origfile = os.path.join(os.getenv('KCORRECT_DIR'),
                        'python', 'kcorrect', 'data', 'templates',
                        'k_nmf_spec.lrg1.fits')
wave = fitsio.read(origfile)
flux = fitsio.read(origfile, ext=8)  # this is the smoothed template

s = kcorrect.sed.SED(wave=10.**wave, flux=flux)

outfile = os.path.join(os.getenv('KCORRECT_DIR'),
                       'python', 'kcorrect', 'data', 'templates',
                       'kcorrect-lrg1-v4.fits')
s.tofits(outfile)
