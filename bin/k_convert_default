#!/usr/bin/env python

# Converts old v4 LRG template into v5 format.

import os
import kcorrect.sed
import fitsio

origfile = os.path.join(os.getenv('KCORRECT_DIR'),
                        'python', 'kcorrect', 'data', 'templates',
                        'k_nmf_derived.default.fits')
wave = fitsio.read(origfile, ext=11)
flux = fitsio.read(origfile, ext=1)

outfile = os.path.join(os.getenv('KCORRECT_DIR'),
                       'python', 'kcorrect', 'data', 'templates',
                       'kcorrect-default-v4.fits')
s = kcorrect.sed.SED(wave=wave, flux=flux)
s.tofits(outfile)
